<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/sheet-music-list"></ion-back-button>
    </ion-buttons>
    <ion-title>Partition</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="bg-fc-blue-dark text-fc-white">
  <div class="px-4 pt-6 pb-2 space-y-6">
    <div class="flex justify-center items-center overflow-hidden h-[40vh] rounded-md">
      <img 
        [src]="sheet.picture?.webviewPath" 
        [alt]="sheet.name" 
        class="w-auto h-full object-contain object-top rounded-md cursor-pointer" 
      />
    </div>

    <div>
      <h2 class="text-2xl font-bold mb-2">{{ sheet.name }}</h2>
      <p class="mb-4"><span class="font-semibold">Auteur : </span>{{ sheet.author }}</p>

      <div class="flex justify-center">
        <span>
          <button 
            (click)="updateIsLearned()" 
            expand="block" 
            class="flex flex-row justify-center items-center fc-button bg-cyan-600 hover:bg-cyan-700 mb-4 px-4 gap-x-2"
          >
            <ion-icon [name]="sheet.isLearned ? 'close-circle' : 'checkmark-circle'" slot="start"></ion-icon>
            {{ sheet.isLearned ? 'Marquer comme non appris' : 'Marquer comme appris' }}
          </button>
        </span>
      </div>

      <div class="flex justify-center">
        <span>
          <button 
            [routerLink]="['/sheet-music-list', sheet.id, 'edit']" 
            expand="block" 
            class="flex flex-row justify-center items-center fc-button bg-indigo-600 hover:bg-indigo-700 mb-4 px-4 gap-x-2"
          >
            <ion-icon name="create-outline" slot="start"></ion-icon>
            Modifier
          </button>
        </span>
      </div>

      <p class="mb-2"><span class="font-semibold">Difficult√© :</span> {{ getDifficultyValue() }}</p>
      <p class="mb-4"><span class="font-semibold">Type :</span> {{ getTypeValue() }}</p>

      <div class="flex justify-center">
        <span>
          <button 
            (click)="deleteSheetMusic()" 
            expand="block" 
            class="flex flex-row justify-center items-center fc-button bg-red-600 hover:bg-red-700 mb-4 px-4 gap-x-2"
          >
            <ion-icon name="trash-outline" slot="start"></ion-icon>
            Supprimer
          </button>
        </span>
      </div>
    </div>
  </div>
</ion-content>
